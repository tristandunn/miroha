<% if target.present? %>
  <% if damage.zero? %>
    <%= turbo_stream.append("messages", partial: "commands/attack/attacker/missed", locals: { target_name: target.name }) %>
  <% elsif target.current_health.positive? %>
    <%= turbo_stream.append("messages", partial: "commands/attack/attacker/hit", locals: { damage: damage, target_name: target.name }) %>
  <% else %>
    <%= turbo_stream.remove("surrounding_monster_#{target.id}") %>
    <%= turbo_stream.append("messages", partial: "commands/attack/attacker/killed", locals: { damage: damage, target_name: target.name }) %>
  <% end %>
<% else %>
  <%= turbo_stream.append("messages", partial: "commands/attack/attacker/unknown", locals: { target_name: target_name }) %>
<% end %>
