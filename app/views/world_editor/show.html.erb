<%# locals: () %>
<div class="min-h-screen bg-gray-900 text-gray-100" data-controller="world-editor">
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8">World Editor</h1>

    <div class="grid grid-cols-12 gap-6">
      <%= render "grid", current_room: @current_room, surrounding_rooms: @surrounding_rooms %>

      <!-- Sidebar: Room & Entity Editor -->
      <div class="col-span-4">
        <div class="bg-gray-800 rounded-lg p-6 sticky top-4">
          <h2 class="text-xl font-semibold mb-4">Room Editor</h2>

          <%= render "description", current_room: @current_room %>
          <%= render "objects", current_room: @current_room %>
          <%= render "npcs", current_room: @current_room %>
          <%= render "monsters", current_room: @current_room %>
          <%= render "items", current_room: @current_room %>
          <%= render "spawns", current_room: @current_room %>
        </div>
      </div>
    </div>
  </div>

  <!-- Hidden data for Stimulus -->
  <div class="hidden">
    <div data-world-editor-target="currentRoomId"><%= @current_room.id if @current_room.persisted? %></div>
  </div>
</div>
